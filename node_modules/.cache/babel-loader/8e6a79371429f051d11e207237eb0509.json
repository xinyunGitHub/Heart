{"remainingRequest":"/Users/wind/Documents/Heart/Heart/node_modules/babel-loader/lib/index.js!/Users/wind/Documents/Heart/Heart/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/wind/Documents/Heart/Heart/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wind/Documents/Heart/Heart/src/views/Address.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wind/Documents/Heart/Heart/src/views/Address.vue","mtime":1604458962873},{"path":"/Users/wind/Documents/Heart/Heart/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wind/Documents/Heart/Heart/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/wind/Documents/Heart/Heart/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wind/Documents/Heart/Heart/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJ2YW50L2VzL3RvYXN0L3N0eWxlIjsKaW1wb3J0IF9Ub2FzdCBmcm9tICJ2YW50L2VzL3RvYXN0IjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL3dpbmQvRG9jdW1lbnRzL0hlYXJ0L0hlYXJ0L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJ2YW50L2VzL2VtcHR5L3N0eWxlIjsKaW1wb3J0IF9FbXB0eSBmcm9tICJ2YW50L2VzL2VtcHR5IjsKaW1wb3J0ICJ2YW50L2VzL2FkZHJlc3MtbGlzdC9zdHlsZSI7CmltcG9ydCBfQWRkcmVzc0xpc3QgZnJvbSAidmFudC9lcy9hZGRyZXNzLWxpc3QiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7ClZ1ZS51c2UoX0FkZHJlc3NMaXN0KTsKVnVlLnVzZShfRW1wdHkpOwppbXBvcnQgeyBsaXN0QWRkcmVzcywgdXBkYXRlQWRkcmVzcyB9IGZyb20gJy4vLi4vYXNzZXRzL2FwaS9hZGRyZXNzLmpzJzsKaW1wb3J0IHsgZ2V0SXRlbSB9IGZyb20gJy4vLi4vYXNzZXRzL2pzL2FwcHV0aWxzLmpzJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdBZGRyZXNzJywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYWRkcmVzc0FjdGl2ZTogJycKICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5saXN0RGF0YSgpOwogIH0sCiAgbWV0aG9kczogewogICAgbGlzdERhdGE6IGZ1bmN0aW9uIGxpc3REYXRhKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcGFyYW1zLCByZXN1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgcGFyYW1zID0gewogICAgICAgICAgICAgICAgICBvcGVuaWQ6IGdldEl0ZW0oJ3VzZXJJbmZvJykub3BlbmlkCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gbGlzdEFkZHJlc3MocGFyYW1zKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cykgewogICAgICAgICAgICAgICAgICBfdGhpcy4kc3RvcmUuY29tbWl0KCJzZXRBZGRyZXNzTGlzdCIsIHJlc3VsdC5kYXRhKTsKCiAgICAgICAgICAgICAgICAgIHJlc3VsdC5kYXRhLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLmlzRGVmYXVsdCkgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXMuYWRkcmVzc0FjdGl2ZSA9IGl0ZW0uaWQ7CgogICAgICAgICAgICAgICAgICAgICAgX3RoaXMuJHN0b3JlLmNvbW1pdCgic2V0QWRkcmVzc0FjdGl2ZSIsIGl0ZW0uaWQpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBfVG9hc3QuZmFpbChyZXN1bHQubWVzc2FnZSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBvblNlbGVjdDogZnVuY3Rpb24gb25TZWxlY3QoaXRlbSkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciBwYXJhbXMsIHJlc3VsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKCEoaXRlbS5pZCA9PSBfdGhpczIuJHN0b3JlLmdldHRlcnMuZ2V0QWRkcmVzc0FjdGl2ZSkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpczIuJHJvdXRlci5nbygtMSk7CgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA5OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIHBhcmFtcyA9IHsKICAgICAgICAgICAgICAgICAgb3BlbmlkOiBnZXRJdGVtKCd1c2VySW5mbycpLm9wZW5pZCwKICAgICAgICAgICAgICAgICAgaWQ6IGl0ZW0uaWQKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDc7CiAgICAgICAgICAgICAgICByZXR1cm4gdXBkYXRlQWRkcmVzcyhwYXJhbXMpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDIuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cykgewogICAgICAgICAgICAgICAgICBfdGhpczIuJHN0b3JlLmNvbW1pdCgic2V0QWRkcmVzc0FjdGl2ZSIsIGl0ZW0uaWQpOwoKICAgICAgICAgICAgICAgICAgX1RvYXN0LnN1Y2Nlc3MocmVzdWx0Lm1lc3NhZ2UpOwoKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLiRyb3V0ZXIuZ28oLTEpOwogICAgICAgICAgICAgICAgICB9LCA2MDApOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgX1RvYXN0LmZhaWwocmVzdWx0Lm1lc3NhZ2UpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBvbkFkZDogZnVuY3Rpb24gb25BZGQoKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBuYW1lOiAnRm91bmQnCiAgICAgIH0pOwogICAgfSwKICAgIG9uRWRpdDogZnVuY3Rpb24gb25FZGl0KGl0ZW0pIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIG5hbWU6ICdGb3VuZCcsCiAgICAgICAgcXVlcnk6IHsKICAgICAgICAgIGlkOiBpdGVtLmlkCiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["Address.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAgBA,OAAA,GAAA,MAAA,KAAA;AAEA,GAAA,CAAA,GAAA;AACA,GAAA,CAAA,GAAA;AACA,SAAA,WAAA,EAAA,aAAA,QAAA,4BAAA;AACA,SAAA,OAAA,QAAA,4BAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,SADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,aAAA,EAAA;AADA,KAAA;AAGA,GANA;AAOA,EAAA,OAPA,qBAOA;AACA,SAAA,QAAA;AACA,GATA;AAUA,EAAA,OAAA,EAAA;AACA,IAAA,QADA,sBACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,MADA,GACA;AACA,kBAAA,MAAA,EAAA,OAAA,CAAA,UAAA,CAAA,CAAA;AADA,iBADA;AAAA;AAAA,uBAIA,WAAA,CAAA,MAAA,CAJA;;AAAA;AAIA,gBAAA,MAJA;;AAKA,oBAAA,MAAA,CAAA,MAAA,EAAA;AACA,kBAAA,KAAA,CAAA,MAAA,CAAA,MAAA,CAAA,gBAAA,EAAA,MAAA,CAAA,IAAA;;AACA,kBAAA,MAAA,CAAA,IAAA,CAAA,MAAA,CAAA,UAAA,IAAA,EAAA;AACA,wBAAA,IAAA,CAAA,SAAA,EAAA;AACA,sBAAA,KAAA,CAAA,aAAA,GAAA,IAAA,CAAA,EAAA;;AACA,sBAAA,KAAA,CAAA,MAAA,CAAA,MAAA,CAAA,kBAAA,EAAA,IAAA,CAAA,EAAA;AACA;AACA,mBALA;AAMA,iBARA,MAQA;AACA,yBAAA,IAAA,CAAA,MAAA,CAAA,OAAA;AACA;;AAfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAgBA,KAjBA;AAkBA,IAAA,QAlBA,oBAkBA,IAlBA,EAkBA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACA,IAAA,CAAA,EAAA,IAAA,MAAA,CAAA,MAAA,CAAA,OAAA,CAAA,gBADA;AAAA;AAAA;AAAA;;AAEA,gBAAA,MAAA,CAAA,OAAA,CAAA,EAAA,CAAA,CAAA,CAAA;;AAFA;AAAA;;AAAA;AAIA,gBAAA,MAJA,GAIA;AACA,kBAAA,MAAA,EAAA,OAAA,CAAA,UAAA,CAAA,CAAA,MADA;AAEA,kBAAA,EAAA,EAAA,IAAA,CAAA;AAFA,iBAJA;AAAA;AAAA,uBAQA,aAAA,CAAA,MAAA,CARA;;AAAA;AAQA,gBAAA,MARA;;AASA,oBAAA,MAAA,CAAA,MAAA,EAAA;AACA,kBAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,kBAAA,EAAA,IAAA,CAAA,EAAA;;AACA,yBAAA,OAAA,CAAA,MAAA,CAAA,OAAA;;AACA,kBAAA,UAAA,CAAA,YAAA;AACA,oBAAA,MAAA,CAAA,OAAA,CAAA,EAAA,CAAA,CAAA,CAAA;AACA,mBAFA,EAEA,GAFA,CAAA;AAGA,iBANA,MAMA;AACA,yBAAA,IAAA,CAAA,MAAA,CAAA,OAAA;AACA;;AAjBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAmBA,KArCA;AAsCA,IAAA,KAtCA,mBAsCA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AACA,QAAA,IAAA,EAAA;AADA,OAAA;AAGA,KA1CA;AA2CA,IAAA,MA3CA,kBA2CA,IA3CA,EA2CA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AACA,QAAA,IAAA,EAAA,OADA;AAEA,QAAA,KAAA,EAAA;AACA,UAAA,EAAA,EAAA,IAAA,CAAA;AADA;AAFA,OAAA;AAMA;AAlDA;AAVA,CAAA","sourcesContent":["<template>\n  <div class=\"address\">\n    <van-address-list\n      v-model=\"addressActive\"\n      :list=\"$store.getters.getAddressList\"\n      @select=\"onSelect\"\n      @add=\"onAdd\"\n      @edit=\"onEdit\"\n    />\n    <template v-if=\"$store.getters.getAddressList.length == 0\">\n      <van-empty description=\"暂无收获地址～\" />\n    </template>\n  </div>\n</template>\n\n<script>\nimport Vue from 'vue';\nimport { AddressList, Empty, Toast } from 'vant';\nVue.use(AddressList);\nVue.use(Empty);\nimport { listAddress, updateAddress } from './../assets/api/address.js'\nimport { getItem } from './../assets/js/apputils.js'\nexport default {\n  name: 'Address',\n  data() {\n    return {\n      addressActive: ''\n    }\n  },\n  created() {\n    this.listData();\n  },\n  methods: {\n    async listData() {\n      let params = {\n        openid: getItem('userInfo').openid,\n      };\n      let result = await listAddress(params);\n      if (result.status) {\n        this.$store.commit(\"setAddressList\", result.data);\n        result.data.filter(item => {\n          if (item.isDefault) {\n            this.addressActive = item.id;\n            this.$store.commit(\"setAddressActive\", item.id);\n          }\n        })\n      } else {\n        Toast.fail(result.message);\n      }\n    },\n    async onSelect(item) {\n      if (item.id == this.$store.getters.getAddressActive) {\n        this.$router.go(-1);\n      } else {\n        let params = {\n          openid: getItem('userInfo').openid,\n          id: item.id\n        };\n        let result = await updateAddress(params);\n        if (result.status) {\n          this.$store.commit(\"setAddressActive\", item.id);\n          Toast.success(result.message);\n          setTimeout(() => {\n            this.$router.go(-1);\n          }, 600);\n        } else {\n          Toast.fail(result.message);\n        }\n      }\n    },\n    onAdd() {\n      this.$router.push({\n        name: 'Found'\n      });\n    },\n    onEdit(item) {\n      this.$router.push({\n        name: 'Found',\n        query: {\n          id: item.id\n        }\n      });\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.address {\n  position: relative;\n  width: 100%;\n  min-height: 100vh;\n  background-color: #f5f5f5;\n}\n</style>"],"sourceRoot":"src/views"}]}