{"remainingRequest":"/Users/wind/Documents/Heart/Heart/node_modules/babel-loader/lib/index.js!/Users/wind/Documents/Heart/Heart/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/wind/Documents/Heart/Heart/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wind/Documents/Heart/Heart/src/views/Found.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wind/Documents/Heart/Heart/src/views/Found.vue","mtime":1604453875729},{"path":"/Users/wind/Documents/Heart/Heart/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wind/Documents/Heart/Heart/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/wind/Documents/Heart/Heart/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wind/Documents/Heart/Heart/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy93aW5kL0RvY3VtZW50cy9IZWFydC9IZWFydC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAidmFudC9lcy90b2FzdC9zdHlsZSI7CmltcG9ydCBfVG9hc3QgZnJvbSAidmFudC9lcy90b2FzdCI7CmltcG9ydCAidmFudC9lcy9hZGRyZXNzLWVkaXQvc3R5bGUiOwppbXBvcnQgX0FkZHJlc3NFZGl0IGZyb20gInZhbnQvZXMvYWRkcmVzcy1lZGl0IjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwpWdWUudXNlKF9BZGRyZXNzRWRpdCk7ClZ1ZS51c2UoX1RvYXN0KTsKaW1wb3J0IGFyZWFMaXN0IGZyb20gJy4vLi4vYXNzZXRzL2pzL2FyZWEuanMnOwppbXBvcnQgeyBhZGRBZGRyZXNzLCBlZGl0QWRkcmVzcywgZGVsQWRkcmVzcyB9IGZyb20gJy4vLi4vYXNzZXRzL2FwaS9mb3VuZC5qcyc7CmltcG9ydCB7IGdldEl0ZW0gfSBmcm9tICcuLy4uL2Fzc2V0cy9qcy9hcHB1dGlscy5qcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnRm91bmQnLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBhZGRyZXNzSWQ6IC0xLAogICAgICBhcmVhTGlzdDogYXJlYUxpc3QsCiAgICAgIGFkZHJlc3NJbmZvOiB7fQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHRoaXMuYWRkcmVzc0lkID0gdGhpcy4kcm91dGUucXVlcnkuaWQgfHwgLTE7CgogICAgaWYgKHRoaXMuYWRkcmVzc0lkICE9IC0xKSB7CiAgICAgIC8vIOWIneWni+WMlue8lui+keaVsOaNrgogICAgICB2YXIgYWRkcmVzc0xpc3QgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldEFkZHJlc3NMaXN0OwogICAgICB2YXIgYWRkcmVzc0RhdGEgPSBhZGRyZXNzTGlzdC5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS5pZCA9PSBfdGhpcy5hZGRyZXNzSWQ7CiAgICAgIH0pOwogICAgICBhZGRyZXNzRGF0YVswXS5hZGRyZXNzRGV0YWlsID0gYWRkcmVzc0RhdGFbMF0ucm9hZDsKICAgICAgdGhpcy5hZGRyZXNzSW5mbyA9IGFkZHJlc3NEYXRhWzBdOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgb25TYXZlOiBmdW5jdGlvbiBvblNhdmUodmFsKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcGFyYW1zLCByZXN1bHQsIF9wYXJhbXMsIF9yZXN1bHQ7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghKF90aGlzMi5hZGRyZXNzSWQgIT0gLTEpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAvLyDnvJbovpEKICAgICAgICAgICAgICAgIHBhcmFtcyA9IHsKICAgICAgICAgICAgICAgICAgb3BlbmlkOiBnZXRJdGVtKCd1c2VySW5mbycpLm9wZW5pZCwKICAgICAgICAgICAgICAgICAgaWQ6IF90aGlzMi5hZGRyZXNzSWQsCiAgICAgICAgICAgICAgICAgIG5hbWU6IHZhbC5uYW1lLAogICAgICAgICAgICAgICAgICBwaG9uZTogdmFsLnRlbCwKICAgICAgICAgICAgICAgICAgcHJvdmluY2U6IHZhbC5wcm92aW5jZSwKICAgICAgICAgICAgICAgICAgY2l0eTogdmFsLmNpdHksCiAgICAgICAgICAgICAgICAgIGNvdW50eTogdmFsLmNvdW50eSwKICAgICAgICAgICAgICAgICAgcm9hZDogdmFsLmFkZHJlc3NEZXRhaWwKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBlZGl0QWRkcmVzcyhwYXJhbXMpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuc3RhdHVzKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi4kcm91dGVyLmdvKC0xKTsKCiAgICAgICAgICAgICAgICAgIF9Ub2FzdC5zdWNjZXNzKHJlc3VsdC5tZXNzYWdlKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIF9Ub2FzdC5mYWlsKHJlc3VsdC5tZXNzYWdlKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgLy8g5paw5aKe5Zyw5Z2ACiAgICAgICAgICAgICAgICBfcGFyYW1zID0gewogICAgICAgICAgICAgICAgICBvcGVuaWQ6IGdldEl0ZW0oJ3VzZXJJbmZvJykub3BlbmlkLAogICAgICAgICAgICAgICAgICBuYW1lOiB2YWwubmFtZSwKICAgICAgICAgICAgICAgICAgcGhvbmU6IHZhbC50ZWwsCiAgICAgICAgICAgICAgICAgIHByb3ZpbmNlOiB2YWwucHJvdmluY2UsCiAgICAgICAgICAgICAgICAgIGNpdHk6IHZhbC5jaXR5LAogICAgICAgICAgICAgICAgICBjb3VudHk6IHZhbC5jb3VudHksCiAgICAgICAgICAgICAgICAgIHJvYWQ6IHZhbC5hZGRyZXNzRGV0YWlsCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDExOwogICAgICAgICAgICAgICAgcmV0dXJuIGFkZEFkZHJlc3MoX3BhcmFtcyk7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICBfcmVzdWx0ID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAoX3Jlc3VsdC5zdGF0dXMpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLiRyb3V0ZXIuZ28oLTEpOwoKICAgICAgICAgICAgICAgICAgX1RvYXN0LnN1Y2Nlc3MoX3Jlc3VsdC5tZXNzYWdlKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIF9Ub2FzdC5mYWlsKF9yZXN1bHQubWVzc2FnZSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgb25EZWxldGU6IGZ1bmN0aW9uIG9uRGVsZXRlKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciBwYXJhbXMsIHJlc3VsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKCEoX3RoaXMzLmFkZHJlc3NJZCAhPSAtMSkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA2OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBwYXJhbXMgPSB7CiAgICAgICAgICAgICAgICAgIG9wZW5pZDogZ2V0SXRlbSgndXNlckluZm8nKS5vcGVuaWQsCiAgICAgICAgICAgICAgICAgIGlkOiBfdGhpczMuYWRkcmVzc0lkCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIGRlbEFkZHJlc3MocGFyYW1zKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQyLnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMzLiRyb3V0ZXIuZ28oLTEpOwoKICAgICAgICAgICAgICAgICAgX1RvYXN0LnN1Y2Nlc3MocmVzdWx0Lm1lc3NhZ2UpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgX1RvYXN0LmZhaWwocmVzdWx0Lm1lc3NhZ2UpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["Found.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div class=\"found\">\n      <van-address-edit\n        :area-list=\"areaList\"\n        :show-postal=\"false\"\n        :address-info=\"addressInfo\"\n        :show-delete=\"addressId != -1\"\n        :area-columns-placeholder=\"['请选择', '请选择', '请选择']\"\n        @save=\"onSave\"\n        @delete=\"onDelete\"\n      />\n    </div>\n</template>\n\n<script>\nimport Vue from 'vue';\nimport { AddressEdit, Toast  } from 'vant';\nVue.use(AddressEdit);\nVue.use(Toast);\nimport areaList from './../assets/js/area.js';\nimport { addAddress, editAddress, delAddress } from './../assets/api/found.js'\nimport { getItem } from './../assets/js/apputils.js'\nexport default {\n  name: 'Found',\n  data() {\n    return {\n      addressId: -1,\n      areaList: areaList,\n      addressInfo: {}\n    }\n  },\n  created() {\n    this.addressId = this.$route.query.id || -1;\n    if (this.addressId != -1) {\n      // 初始化编辑数据\n      let addressList = this.$store.getters.getAddressList;\n      let addressData = addressList.filter(item => item.id == this.addressId);\n      addressData[0].addressDetail = addressData[0].road;\n      this.addressInfo = addressData[0];\n    }\n  },\n  methods: {\n    async onSave(val) {\n      if (this.addressId != -1) { // 编辑\n        let params = {\n          openid: getItem('userInfo').openid,\n          id: this.addressId,\n          name: val.name,\n          phone: val.tel,\n          province: val.province,\n          city: val.city,\n          county: val.county,\n          road: val.addressDetail\n        };\n        let result = await editAddress(params);\n        if (result.status) {\n          this.$router.go(-1);\n          Toast.success(result.message);\n        } else {\n          Toast.fail(result.message);\n        }\n      } else { // 新增地址\n        let params = {\n          openid: getItem('userInfo').openid,\n          name: val.name,\n          phone: val.tel,\n          province: val.province,\n          city: val.city,\n          county: val.county,\n          road: val.addressDetail\n        };\n        let result = await addAddress(params);\n        if (result.status) {\n          this.$router.go(-1);\n          Toast.success(result.message);\n        } else {\n          Toast.fail(result.message);\n        }\n      }\n    },\n    async onDelete() {\n      if (this.addressId != -1) {\n        let params = {\n          openid: getItem('userInfo').openid,\n          id: this.addressId,\n        };\n        let result = await delAddress(params);\n        if (result.status) {\n          this.$router.go(-1);\n          Toast.success(result.message);\n        } else {\n          Toast.fail(result.message);\n        }\n      }\n    },\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.found {\n  position: relative;\n  width: 100%;\n  min-height: 100vh;\n  background-color: #f5f5f5;\n}\n</style>"],"sourceRoot":"src/views"}]}