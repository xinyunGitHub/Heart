{"remainingRequest":"/Users/wind/Documents/Heart/Heart/node_modules/babel-loader/lib/index.js!/Users/wind/Documents/Heart/Heart/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/wind/Documents/Heart/Heart/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wind/Documents/Heart/Heart/src/views/Order.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wind/Documents/Heart/Heart/src/views/Order.vue","mtime":1604486063677},{"path":"/Users/wind/Documents/Heart/Heart/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wind/Documents/Heart/Heart/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/wind/Documents/Heart/Heart/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wind/Documents/Heart/Heart/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucGFyc2UtaW50IjsKaW1wb3J0ICJ2YW50L2VzL3RvYXN0L3N0eWxlIjsKaW1wb3J0IF9Ub2FzdCBmcm9tICJ2YW50L2VzL3RvYXN0IjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL3dpbmQvRG9jdW1lbnRzL0hlYXJ0L0hlYXJ0L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJ2YW50L2VzL3N1Ym1pdC1iYXIvc3R5bGUiOwppbXBvcnQgX1N1Ym1pdEJhciBmcm9tICJ2YW50L2VzL3N1Ym1pdC1iYXIiOwppbXBvcnQgInZhbnQvZXMvZmllbGQvc3R5bGUiOwppbXBvcnQgX0ZpZWxkIGZyb20gInZhbnQvZXMvZmllbGQiOwppbXBvcnQgInZhbnQvZXMvY2FyZC9zdHlsZSI7CmltcG9ydCBfQ2FyZCBmcm9tICJ2YW50L2VzL2NhcmQiOwppbXBvcnQgInZhbnQvZXMvY2VsbC1ncm91cC9zdHlsZSI7CmltcG9ydCBfQ2VsbEdyb3VwIGZyb20gInZhbnQvZXMvY2VsbC1ncm91cCI7CmltcG9ydCAidmFudC9lcy9jZWxsL3N0eWxlIjsKaW1wb3J0IF9DZWxsIGZyb20gInZhbnQvZXMvY2VsbCI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBWdWUgZnJvbSAndnVlJzsKVnVlLnVzZShfQ2VsbCk7ClZ1ZS51c2UoX0NlbGxHcm91cCk7ClZ1ZS51c2UoX0NhcmQpOwpWdWUudXNlKF9GaWVsZCk7ClZ1ZS51c2UoX1N1Ym1pdEJhcik7CmltcG9ydCB7IGFkZHJlc3NPcmRlciwgaW52ZW50b3J5T3JkZXIgfSBmcm9tICcuLy4uL2Fzc2V0cy9hcGkvb3JkZXIuanMnOwppbXBvcnQgeyBnZXRJdGVtIH0gZnJvbSAnLi8uLi9hc3NldHMvanMvYXBwdXRpbHMuanMnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ09yZGVyJywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYWRkcmVzc0luZm86IHsKICAgICAgICBhZGRyZXNzOiAnJywKICAgICAgICBjb250YWN0OiAnLicKICAgICAgfSwKICAgICAgZ29vZHNJbmZvOiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldE9yZGVyTGlzdCwKICAgICAgbWVzc2FnZTogJycsCiAgICAgIGFtb3VudDogdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRPcmRlckxpc3QucHJpY2UgKiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldE9yZGVyTGlzdC5jb3VudCAqIDEwMAogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLnVzZXJBZGRyZXNzKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICB1c2VyQWRkcmVzczogZnVuY3Rpb24gdXNlckFkZHJlc3MoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBwYXJhbXMsIHJlc3VsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBwYXJhbXMgPSB7CiAgICAgICAgICAgICAgICAgIG9wZW5pZDogZ2V0SXRlbSgndXNlckluZm8nKS5vcGVuaWQKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBhZGRyZXNzT3JkZXIocGFyYW1zKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cykgewogICAgICAgICAgICAgICAgICBfdGhpcy5hZGRyZXNzSW5mbyA9IHJlc3VsdC5kYXRhOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgX1RvYXN0LmZhaWwocmVzdWx0Lm1lc3NhZ2UpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgb25QYXk6IGZ1bmN0aW9uIG9uUGF5KCkgewogICAgICBjb25zb2xlLmxvZygnb25QYXknLCB0aGlzLmFkZHJlc3NJbmZvLCB0aGlzLmdvb2RzSW5mbywgdGhpcy5hbW91bnQpOwogICAgICB0aGlzLm9uSW52ZW50b3J5KCk7CiAgICB9LAogICAgb25JbnZlbnRvcnk6IGZ1bmN0aW9uIG9uSW52ZW50b3J5KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciBwYXJhbXMsIHJlc3VsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgLy8g55Sf5oiQ6K6i5Y2VCiAgICAgICAgICAgICAgICBwYXJhbXMgPSB7CiAgICAgICAgICAgICAgICAgIG9wZW5pZDogZ2V0SXRlbSgndXNlckluZm8nKS5vcGVuaWQsCiAgICAgICAgICAgICAgICAgIGFkZHJlc3NJZDogX3RoaXMyLmFkZHJlc3NJbmZvLmlkLAogICAgICAgICAgICAgICAgICBnYXRoZXI6IF90aGlzMi5nb29kc0luZm8uZ2F0aGVyLAogICAgICAgICAgICAgICAgICBjb3VudDogX3RoaXMyLmdvb2RzSW5mby5jb3VudCwKICAgICAgICAgICAgICAgICAgcHJpY2U6IF90aGlzMi5nb29kc0luZm8ucHJpY2UsCiAgICAgICAgICAgICAgICAgIGdvb2RzSWQ6IF90aGlzMi5nb29kc0luZm8uaWQsCiAgICAgICAgICAgICAgICAgIHVuaXF1ZTogX3RoaXMyLmdvb2RzSW5mby51bmlxdWUsCiAgICAgICAgICAgICAgICAgIGFtb3VudDogcGFyc2VJbnQoX3RoaXMyLmFtb3VudCAvIDEwMCkKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gaW52ZW50b3J5T3JkZXIocGFyYW1zKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQyLnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLiRzdG9yZS5jb21taXQoJ3NldFdhdGVyQ29kZScsIHJlc3VsdC5kYXRhKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMi4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICdBY2hpZXZlJwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Order.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+EA,OAAA,GAAA,MAAA,KAAA;AAEA,GAAA,CAAA,GAAA;AACA,GAAA,CAAA,GAAA;AACA,GAAA,CAAA,GAAA;AACA,GAAA,CAAA,GAAA;AACA,GAAA,CAAA,GAAA;AACA,SAAA,YAAA,EAAA,cAAA,QAAA,0BAAA;AACA,SAAA,OAAA,QAAA,4BAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,WAAA,EAAA;AACA,QAAA,OAAA,EAAA,EADA;AAEA,QAAA,OAAA,EAAA;AAFA,OADA;AAKA,MAAA,SAAA,EAAA,KAAA,MAAA,CAAA,OAAA,CAAA,YALA;AAMA,MAAA,OAAA,EAAA,EANA;AAOA,MAAA,MAAA,EAAA,KAAA,MAAA,CAAA,OAAA,CAAA,YAAA,CAAA,KAAA,GAAA,KAAA,MAAA,CAAA,OAAA,CAAA,YAAA,CAAA,KAAA,GAAA;AAPA,KAAA;AASA,GAZA;AAaA,EAAA,OAbA,qBAaA;AACA,SAAA,WAAA;AACA,GAfA;AAgBA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,yBACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,MADA,GACA;AACA,kBAAA,MAAA,EAAA,OAAA,CAAA,UAAA,CAAA,CAAA;AADA,iBADA;AAAA;AAAA,uBAIA,YAAA,CAAA,MAAA,CAJA;;AAAA;AAIA,gBAAA,MAJA;;AAKA,oBAAA,MAAA,CAAA,MAAA,EAAA;AACA,kBAAA,KAAA,CAAA,WAAA,GAAA,MAAA,CAAA,IAAA;AACA,iBAFA,MAEA;AACA,yBAAA,IAAA,CAAA,MAAA,CAAA,OAAA;AACA;;AATA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA,KAXA;AAYA,IAAA,KAZA,mBAYA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,OAAA,EAAA,KAAA,WAAA,EAAA,KAAA,SAAA,EAAA,KAAA,MAAA;AACA,WAAA,WAAA;AACA,KAfA;AAgBA,IAAA,WAhBA,yBAgBA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,MADA,GACA;AACA,kBAAA,MAAA,EAAA,OAAA,CAAA,UAAA,CAAA,CAAA,MADA;AAEA,kBAAA,SAAA,EAAA,MAAA,CAAA,WAAA,CAAA,EAFA;AAGA,kBAAA,MAAA,EAAA,MAAA,CAAA,SAAA,CAAA,MAHA;AAIA,kBAAA,KAAA,EAAA,MAAA,CAAA,SAAA,CAAA,KAJA;AAKA,kBAAA,KAAA,EAAA,MAAA,CAAA,SAAA,CAAA,KALA;AAMA,kBAAA,OAAA,EAAA,MAAA,CAAA,SAAA,CAAA,EANA;AAOA,kBAAA,MAAA,EAAA,MAAA,CAAA,SAAA,CAAA,MAPA;AAQA,kBAAA,MAAA,EAAA,QAAA,CAAA,MAAA,CAAA,MAAA,GAAA,GAAA;AARA,iBADA;AAAA;AAAA,uBAWA,cAAA,CAAA,MAAA,CAXA;;AAAA;AAWA,gBAAA,MAXA;;AAYA,oBAAA,MAAA,CAAA,MAAA,EAAA;AACA,kBAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,cAAA,EAAA,MAAA,CAAA,IAAA;;AACA,kBAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AACA,oBAAA,IAAA,EAAA;AADA,mBAAA;AAGA;;AAjBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAkBA;AAlCA;AAhBA,CAAA","sourcesContent":["<template>\n  <div class=\"order\">\n    <!--【底色】-->\n    <div class=\"order-circle\"></div>\n    <!--【地址信息】-->\n    <template v-if=\"addressInfo.address\">\n      <van-cell\n        class=\"order-item\"\n        :title=\"addressInfo.address\"\n        size=\"large\"\n        :label=\"addressInfo.contact\"\n        center\n        is-link\n        to=\"/address\"\n      />\n    </template>\n    <template v-else>\n      <van-cell\n        class=\"order-item order-empty\"\n        title=\"\"\n        size=\"large\"\n        label=\"暂无收获地址，快去添加吧～\"\n        center\n        is-link\n        to=\"/address\"\n      />\n    </template>\n    <!--【商品信息】-->\n    <van-card\n      v-if=\"goodsInfo.title\"\n      :num=\"goodsInfo.count\"\n      :desc=\"'已选规格: ' + goodsInfo.gather\"\n      class=\"order-item\"\n      style=\"background-color: #ffffff;\"\n      :thumb=\"goodsInfo.picture\"\n    >\n      <template #title>\n        <h3 class=\"goods-card\">{{ goodsInfo.title }}</h3>\n      </template>\n      <template #price>\n        <div class=\"goods-price\">\n          <em>¥ </em>\n          <strong>{{ goodsInfo.price }}</strong>\n        </div>\n      </template>\n    </van-card>\n    <!--【用户留言】-->\n    <van-field\n      v-model=\"message\"\n      rows=\"2\"\n      autosize\n      label=\"留言\"\n      type=\"textarea\"\n      maxlength=\"50\"\n      placeholder=\"请输入留言\"\n      show-word-limit\n      class=\"order-quality order-item\"\n    />\n    <!--【品质保障】-->\n    <van-cell-group class=\"order-quality order-item\">\n      <van-cell title=\"正品保障\" />\n      <van-cell title=\"运费: 包邮\" />\n      <van-cell title=\"7天无理由退货\" />\n    </van-cell-group>\n    <!--【提交订单】-->\n    <van-submit-bar\n      :price=\"amount\"\n      :decimal-length=\"0\"\n      button-text=\"提交订单\"\n      @submit=\"onPay\"\n    >\n    <template #price>\n      <span>sd</span>\n    </template>\n    </van-submit-bar>\n  </div>\n</template>\n\n<script>\nimport Vue from 'vue';\nimport { Cell, CellGroup, Card, Field, SubmitBar, Toast } from 'vant';\nVue.use(Cell);\nVue.use(CellGroup);\nVue.use(Card);\nVue.use(Field);\nVue.use(SubmitBar);\nimport { addressOrder, inventoryOrder } from './../assets/api/order.js'\nimport { getItem } from './../assets/js/apputils.js'\nexport default {\n  name: 'Order',\n  data() {\n    return {\n      addressInfo: {\n        address: '',\n        contact: '.'\n      },\n      goodsInfo: this.$store.getters.getOrderList,\n      message: '',\n      amount: this.$store.getters.getOrderList.price * this.$store.getters.getOrderList.count * 100\n    }\n  },\n  created() {\n    this.userAddress();\n  },\n  methods: {\n    async userAddress() {\n      let params = {\n        openid: getItem('userInfo').openid,\n      };\n      let result = await addressOrder(params);\n      if (result.status) {\n        this.addressInfo = result.data;\n      } else {\n        Toast.fail(result.message);\n      }\n    },\n    onPay() {\n      console.log('onPay', this.addressInfo, this.goodsInfo, this.amount);\n      this.onInventory();\n    },\n    async onInventory() { // 生成订单\n      let params = {\n        openid: getItem('userInfo').openid,\n        addressId: this.addressInfo.id,\n        gather: this.goodsInfo.gather,\n        count: this.goodsInfo.count,\n        price: this.goodsInfo.price,\n        goodsId: this.goodsInfo.id,\n        unique: this.goodsInfo.unique,\n        amount: parseInt(this.amount / 100)\n      };\n      let result = await inventoryOrder(params);\n      if (result.status) {\n        this.$store.commit('setWaterCode', result.data);\n        this.$router.push({\n          name: 'Achieve'\n        });\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.order {\n  position: relative;\n  padding: 20px 10px;\n  width: 100%;\n  min-height: 100vh;\n  background-color: #f5f5f5;\n  .order-circle {\n    position: absolute;\n    top: 0%;\n    left: 50%;\n    width: 420px;\n    height: 180px;\n    background-color: #ee0a24;\n    border-radius: 500px;\n    transform: translate(-50%, -50%);\n  }\n  .order-quality {\n    margin: 18px 0 0 0;\n  }\n  .order-item {\n    border-radius: 8px;\n    overflow: hidden;\n  }\n  .order-empty {\n    padding: 24px 16px;\n  }\n  .goods-card {\n    font-size: 16px;\n    color: #333333;\n    font-weight: 400;\n  }\n  .goods-price {\n    > em {\n      font-size: 14px;\n      color: #333333;\n      font-weight: 400;\n    }\n    > strong {\n      font-size: 16px;\n      color: #333333;\n      font-weight: 400;\n    }\n  }\n}\n</style>"],"sourceRoot":"src/views"}]}